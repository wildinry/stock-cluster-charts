# stock-cluster-charts
Different stock Clustering charts

 Quant Pairs Trading EngineThis repository contains an advanced quantitative finance application for detecting robust, mean-reverting stock pairs suitable for pairs trading.The engine uses Principal Component Analysis (PCA) to capture common factors, the Hurst Exponent to measure market memory, and Cointegration (Engle-Granger) to confirm stable price relationships. The core difference between the two main scripts lies in the clustering approach used to group related assets before pair selection.üõ†Ô∏è Setup and InstallationThis project requires Python 3.8+ and several external libraries.1. Clone the RepositoryBashgit clone [YOUR_REPO_URL]
cd [YOUR_REPO_NAME]
2. Create and Activate a Virtual EnvironmentIt is highly recommended to use a virtual environment to manage dependencies.Bashpython3 -m venv venv
source venv/bin/activate  # On Linux/macOS
# .\venv\Scripts\activate  # On Windows
3. Install DependenciesInstall all required libraries using pip:Bashpip install yfinance pandas numpy scikit-learn statsmodels arch hurst plotly
üöÄ Usage and ExecutionThe application currently analyzes the S&P 100 universe, fetching 3 years of daily price data.1. K-Means ClusteringThe kmeans_clustering.py script uses K-Means to group assets. K-Means requires a predefined number of clusters (n_clusters), making it fast but sensitive to the initial choice of $K$.File: kmeans_clustering.pyClustering Features: PCA Components (3D) + Hurst Exponent (1D).Bashpython kmeans_clustering.py
2. OPTICS ClusteringThe main.py script (representing the original structure you shared) uses OPTICS (Ordering Points To Identify the Clustering Structure). OPTICS is a density-based algorithm that does not require the number of clusters to be specified beforehand, allowing it to find arbitrary-shaped clusters and classify noisy points.File: main.pyClustering Features: PCA Components (3D) only (as per the original script structure).Bashpython main.py
üí° Algorithm and Trading InterpretationThe workflow follows a four-step quantitative pipeline:1. Factor Exposure (PCA)Daily returns are standardized and fed into PCA. This reduces the dimensionality and extracts the core market factors (PC1, PC2, etc.) that explain most of the stock co-movement.2. Asset Grouping (K-Means/OPTICS)Stocks are clustered based on their factor exposures and, in the case of the K-Means script, their individual Hurst Exponents. This step ensures that potential pairs are drawn from a universe of highly related assets, increasing the probability of cointegration.3. Pair Selection and FilteringFor every possible pair within each cluster, four filters are applied to isolate robust mean-reverting candidates:Cointegration (Engle-Granger): Confirms a stable, long-term equilibrium relationship exists between the pair.Spread Hurst Exponent ($H < 0.5$): The spread itself must exhibit mean-reverting behavior (Hurst Exponent less than 0.5) rather than trending behavior.Half-Life: Calculates the time it takes for a deviation from the mean to correct by half. This metric dictates the trading horizon (typically requiring a half-life between 10 and 504 days).4. Signal Generation (Z-Score)The output plots the Z-Score of the spread, which is the primary trading signal.Entry Signal: A Z-Score above +2.0 (short the spread) or below -2.0 (long the spread) indicates an extreme deviation from the mean.Exit Signal: A Z-Score returning to 0 (the mean) indicates the trade has been successful and should be closed.
